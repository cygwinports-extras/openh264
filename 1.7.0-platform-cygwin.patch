--- origsrc/openh264-1.7.0/Makefile	2017-06-15 23:20:14.000000000 -0500
+++ src/openh264-1.7.0/Makefile	2017-12-06 14:45:36.333933500 -0600
@@ -11,6 +11,7 @@ OS=$(shell uname | tr A-Z a-z | tr -d \\
 ARCH=$(shell uname -m)
 LIBPREFIX=lib
 LIBSUFFIX=a
+SHAREDLIBPREFIX=lib
 CCAS=$(CC)
 CXX_O=-o $@
 CXX_LINK_O=-o $@
@@ -79,7 +80,7 @@ all: libraries binaries
 
 include $(SRC_PATH)build/platform-$(OS).mk
 
-MODULE := $(LIBPREFIX)$(MODULE_NAME).$(SHAREDLIBSUFFIX)
+MODULE := $(SHAREDLIBPREFIX)$(MODULE_NAME)$(SHAREDLIBSUFFIX)
 
 CFLAGS += -DGENERATED_VERSION_HEADER
 LDFLAGS +=
@@ -220,10 +221,10 @@ libraries: $(LIBPREFIX)$(PROJECT_NAME).$
 
 # No point in building dylib for ios
 ifneq (ios, $(OS))
-libraries: $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIX)
+libraries: $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIX)
 endif
 
-LIBRARIES += $(LIBPREFIX)$(PROJECT_NAME).$(LIBSUFFIX) $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXFULLVER)
+LIBRARIES += $(LIBPREFIX)$(PROJECT_NAME).$(LIBSUFFIX) $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXFULLVER)
 
 $(LIBPREFIX)$(PROJECT_NAME).$(LIBSUFFIX): $(ENCODER_OBJS) $(DECODER_OBJS) $(PROCESSING_OBJS) $(COMMON_OBJS)
 	$(QUIET)rm -f $@
@@ -233,27 +234,27 @@ ifeq (True, $(PROCESS_FILES))
 	strip $(STRIP_FLAGS) $@ -o $@
 endif
 
-$(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXFULLVER): $(ENCODER_OBJS) $(DECODER_OBJS) $(PROCESSING_OBJS) $(COMMON_OBJS)
+$(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXFULLVER): $(ENCODER_OBJS) $(DECODER_OBJS) $(PROCESSING_OBJS) $(COMMON_OBJS)
 	$(QUIET)rm -f $@
 	$(QUIET_CXX)$(CXX) $(SHARED) $(CXX_LINK_O) $+ $(LDFLAGS) $(SHLDFLAGS)
 ifeq (True, $(PROCESS_FILES))
-	cp $@ $(LIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXFULLVER)
+	cp $@ $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXFULLVER)
 	strip $(STRIP_FLAGS) $@ -o $@
 endif
 
 ifneq ($(SHAREDLIBSUFFIXFULLVER),$(SHAREDLIBSUFFIX))
-$(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIX): $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXFULLVER)
-	$(QUIET)ln -sfn $+ $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXMAJORVER)
-	$(QUIET)ln -sfn $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXMAJORVER) $@
+$(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIX): $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXFULLVER)
+	$(QUIET)ln -sfn $+ $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXMAJORVER)
+	$(QUIET)ln -sfn $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXMAJORVER) $@
 ifeq (True, $(PROCESS_FILES))
-	$(QUIET)ln -sfn $(LIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXFULLVER) $(LIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXMAJORVER)
-	$(QUIET)ln -sfn $(LIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXMAJORVER) $(LIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIX)
+	$(QUIET)ln -sfn $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXFULLVER) $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXMAJORVER)
+	$(QUIET)ln -sfn $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXMAJORVER) $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIX)
 endif
 endif
 
 ifeq ($(HAVE_GMP_API),Yes)
 plugin: $(MODULE)
-LIBRARIES += $(LIBPREFIX)$(MODULE_NAME).$(SHAREDLIBSUFFIXFULLVER)
+LIBRARIES += $(SHAREDLIBPREFIX)$(MODULE_NAME)$(SHAREDLIBSUFFIXFULLVER)
 else
 plugin:
 	@echo "./gmp-api: No such file or directory."
@@ -263,21 +264,21 @@ endif
 echo-plugin-name:
 	@echo $(MODULE)
 
-$(LIBPREFIX)$(MODULE_NAME).$(SHAREDLIBSUFFIXFULLVER): $(MODULE_OBJS) $(ENCODER_OBJS) $(DECODER_OBJS) $(PROCESSING_OBJS) $(COMMON_OBJS)
+$(SHAREDLIBPREFIX)$(MODULE_NAME)$(SHAREDLIBSUFFIXFULLVER): $(MODULE_OBJS) $(ENCODER_OBJS) $(DECODER_OBJS) $(PROCESSING_OBJS) $(COMMON_OBJS)
 	$(QUIET)rm -f $@
 	$(QUIET_CXX)$(CXX) $(SHARED) $(CXX_LINK_O) $+ $(LDFLAGS) $(SHLDFLAGS) $(MODULE_LDFLAGS)
 ifeq (True, $(PROCESS_FILES))
-	cp $@ $(LIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXFULLVER)
+	cp $@ $(SHAREDLIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXFULLVER)
 	strip $(STRIP_FLAGS) $@ -o $@
 endif
 
 ifneq ($(SHAREDLIBSUFFIXFULLVER),$(SHAREDLIBSUFFIX))
-$(MODULE): $(LIBPREFIX)$(MODULE_NAME).$(SHAREDLIBSUFFIXFULLVER)
-	$(QUIET)ln -sfn $+ $(LIBPREFIX)$(MODULE_NAME).$(SHAREDLIBSUFFIXMAJORVER)
-	$(QUIET)ln -sfn $(LIBPREFIX)$(MODULE_NAME).$(SHAREDLIBSUFFIXMAJORVER) $@
+$(MODULE): $(SHAREDLIBPREFIX)$(MODULE_NAME)$(SHAREDLIBSUFFIXFULLVER)
+	$(QUIET)ln -sfn $+ $(SHAREDLIBPREFIX)$(MODULE_NAME)$(SHAREDLIBSUFFIXMAJORVER)
+	$(QUIET)ln -sfn $(SHAREDLIBPREFIX)$(MODULE_NAME)$(SHAREDLIBSUFFIXMAJORVER) $@
 ifeq (True, $(PROCESS_FILES))
-	$(QUIET)ln -sfn $(LIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXFULLVER) $(LIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXMAJORVER)
-	$(QUIET)ln -sfn $(LIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIXMAJORVER) $(LIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG).$(SHAREDLIBSUFFIX)
+	$(QUIET)ln -sfn $(SHAREDLIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXFULLVER) $(SHAREDLIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXMAJORVER)
+	$(QUIET)ln -sfn $(SHAREDLIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIXMAJORVER) $(SHAREDLIBPREFIX)$(MODULE_NAME)$(DEBUGSYMBOLS_TAG)$(SHAREDLIBSUFFIX)
 endif
 endif
 
@@ -299,12 +300,12 @@ install-static: install-static-lib $(PRO
 	mkdir -p $(DESTDIR)$(PREFIX)/$(LIBDIR_NAME)/pkgconfig
 	install -m 644 $(PROJECT_NAME)-static.pc $(DESTDIR)$(PREFIX)/$(LIBDIR_NAME)/pkgconfig/$(PROJECT_NAME).pc
 
-install-shared: $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIX) install-headers $(PROJECT_NAME).pc
+install-shared: $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIX) install-headers $(PROJECT_NAME).pc
 	mkdir -p $(DESTDIR)$(SHAREDLIB_DIR)
-	install -m 755 $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXFULLVER) $(DESTDIR)$(SHAREDLIB_DIR)
+	install -m 755 $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXFULLVER) $(DESTDIR)$(SHAREDLIB_DIR)
 	if [ "$(SHAREDLIBSUFFIXFULLVER)" != "$(SHAREDLIBSUFFIX)" ]; then \
-	  cp -a $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXMAJORVER) $(DESTDIR)$(SHAREDLIB_DIR) ; \
-	  cp -a $(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIX) $(DESTDIR)$(SHAREDLIB_DIR) ; \
+	  cp -a $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXMAJORVER) $(DESTDIR)$(SHAREDLIB_DIR) ; \
+	  cp -a $(SHAREDLIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIX) $(DESTDIR)$(SHAREDLIB_DIR) ; \
 	fi
 	mkdir -p $(DESTDIR)$(PREFIX)/$(LIBDIR_NAME)/pkgconfig
 	install -m 644 $(PROJECT_NAME).pc $(DESTDIR)$(PREFIX)/$(LIBDIR_NAME)/pkgconfig
@@ -332,8 +333,8 @@ $(LIBPREFIX)ut.$(LIBSUFFIX): $(DECODER_U
 	$(QUIET_AR)$(AR) $(AR_OPTS) $+
 
 
-LIBRARIES +=$(LIBPREFIX)ut.$(SHAREDLIBSUFFIX)
-$(LIBPREFIX)ut.$(SHAREDLIBSUFFIX): $(DECODER_UNITTEST_OBJS) $(ENCODER_UNITTEST_OBJS) $(PROCESSING_UNITTEST_OBJS) $(API_TEST_OBJS) $(COMMON_UNITTEST_OBJS) $(CODEC_UNITTEST_DEPS)
+LIBRARIES +=$(SHAREDLIBPREFIX)ut$(SHAREDLIBSUFFIX)
+$(SHAREDLIBPREFIX)ut$(SHAREDLIBSUFFIX): $(DECODER_UNITTEST_OBJS) $(ENCODER_UNITTEST_OBJS) $(PROCESSING_UNITTEST_OBJS) $(API_TEST_OBJS) $(COMMON_UNITTEST_OBJS) $(CODEC_UNITTEST_DEPS)
 	$(QUIET)rm -f $@
 	$(QUIET_CXX)$(CXX) $(SHARED) $(CXX_LINK_O) $+ $(LDFLAGS) $(UTSHLDFLAGS) $(CODEC_UNITTEST_LDFLAGS)
 
@@ -354,7 +355,7 @@ else
 ifeq (ios,$(OS))
 codec_unittest$(EXEEXT): $(LIBPREFIX)ut.$(LIBSUFFIX) $(LIBPREFIX)gtest.$(LIBSUFFIX) $(LIBPREFIX)$(PROJECT_NAME).$(LIBSUFFIX)
 else
-codec_unittest$(EXEEXT): $(LIBPREFIX)ut.$(SHAREDLIBSUFFIX)
+codec_unittest$(EXEEXT): $(SHAREDLIBPREFIX)ut$(SHAREDLIBSUFFIX)
 endif
 
 ifeq (android,$(OS))
--- origsrc/openh264-1.7.0/build/platform-android.mk	2017-06-15 23:20:14.000000000 -0500
+++ src/openh264-1.7.0/build/platform-android.mk	2017-12-06 14:30:29.677895500 -0600
@@ -1,6 +1,6 @@
 ARCH = arm
 include $(SRC_PATH)build/arch.mk
-SHAREDLIBSUFFIX = so
+SHAREDLIBSUFFIX = .so
 # Android APK/JARs expect libraries to be unversioned
 SHAREDLIBSUFFIXFULLVER=$(SHAREDLIBSUFFIX)
 SHAREDLIBSUFFIXMAJORVER=$(SHAREDLIBSUFFIX)
--- origsrc/openh264-1.7.0/build/platform-bsd.mk	2017-06-15 23:20:14.000000000 -0500
+++ src/openh264-1.7.0/build/platform-bsd.mk	2017-12-06 14:34:30.051513700 -0600
@@ -1,8 +1,8 @@
 include $(SRC_PATH)build/arch.mk
-SHAREDLIBSUFFIX = so
+SHAREDLIBSUFFIX = .so
 SHAREDLIBSUFFIXFULLVER=$(SHAREDLIBSUFFIX).$(FULL_VERSION)
 SHAREDLIBSUFFIXMAJORVER=$(SHAREDLIBSUFFIX).$(SHAREDLIB_MAJORVERSION)
-SHLDFLAGS = -Wl,-soname,$(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXMAJORVER)
+SHLDFLAGS = -Wl,-soname,$(LIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXMAJORVER)
 CFLAGS += -fPIC
 LDFLAGS += -lpthread
 STATIC_LDFLAGS += -lpthread -lm
--- origsrc/openh264-1.7.0/build/platform-cygwin_nt.mk	2017-06-15 23:20:14.000000000 -0500
+++ src/openh264-1.7.0/build/platform-cygwin_nt.mk	2017-12-06 14:46:28.353660700 -0600
@@ -1,6 +1,7 @@
 include $(SRC_PATH)build/x86-common.mk
 SHAREDLIB_DIR = $(PREFIX)/bin
-SHAREDLIBSUFFIX = dll
+SHAREDLIBPREFIX = cyg
+SHAREDLIBSUFFIX = -$(SHAREDLIB_MAJORVERSION).dll
 SHAREDLIBSUFFIXFULLVER=$(SHAREDLIBSUFFIX)
 SHAREDLIBSUFFIXMAJORVER=$(SHAREDLIBSUFFIX)
 EXTRA_LIBRARY=$(LIBPREFIX)$(PROJECT_NAME).dll.a
--- origsrc/openh264-1.7.0/build/platform-darwin.mk	2017-06-15 23:20:14.000000000 -0500
+++ src/openh264-1.7.0/build/platform-darwin.mk	2017-12-06 14:35:11.549995300 -0600
@@ -1,13 +1,13 @@
 include $(SRC_PATH)build/arch.mk
 SHAREDLIB_DIR = $(PREFIX)/lib
-SHAREDLIBSUFFIX = dylib
-SHAREDLIBSUFFIXFULLVER=$(FULL_VERSION).$(SHAREDLIBSUFFIX)
-SHAREDLIBSUFFIXMAJORVER=$(SHAREDLIB_MAJORVERSION).$(SHAREDLIBSUFFIX)
+SHAREDLIBSUFFIX = .dylib
+SHAREDLIBSUFFIXFULLVER=.$(FULL_VERSION)$(SHAREDLIBSUFFIX)
+SHAREDLIBSUFFIXMAJORVER=.$(SHAREDLIB_MAJORVERSION)$(SHAREDLIBSUFFIX)
 CURRENT_VERSION := 1.7.0
 COMPATIBILITY_VERSION := 1.7.0
 SHLDFLAGS = -dynamiclib -twolevel_namespace -undefined dynamic_lookup \
 	-fno-common -headerpad_max_install_names -install_name \
-	$(SHAREDLIB_DIR)/$(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXMAJORVER)
+	$(SHAREDLIB_DIR)/$(LIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXMAJORVER)
 SHARED = -dynamiclib
 SHARED += -current_version $(CURRENT_VERSION) -compatibility_version $(COMPATIBILITY_VERSION)
 CFLAGS += -Wall -fPIC -MMD -MP
--- origsrc/openh264-1.7.0/build/platform-linux.mk	2017-06-15 23:20:14.000000000 -0500
+++ src/openh264-1.7.0/build/platform-linux.mk	2017-12-06 14:33:55.441963300 -0600
@@ -1,8 +1,8 @@
 include $(SRC_PATH)build/arch.mk
-SHAREDLIBSUFFIX = so
+SHAREDLIBSUFFIX = .so
 SHAREDLIBSUFFIXFULLVER=$(SHAREDLIBSUFFIX).$(FULL_VERSION)
 SHAREDLIBSUFFIXMAJORVER=$(SHAREDLIBSUFFIX).$(SHAREDLIB_MAJORVERSION)
-SHLDFLAGS = -Wl,-soname,$(LIBPREFIX)$(PROJECT_NAME).$(SHAREDLIBSUFFIXMAJORVER)
+SHLDFLAGS = -Wl,-soname,$(LIBPREFIX)$(PROJECT_NAME)$(SHAREDLIBSUFFIXMAJORVER)
 CFLAGS += -Wall -fno-strict-aliasing -fPIC -MMD -MP
 LDFLAGS += -lpthread
 STATIC_LDFLAGS += -lpthread -lm
--- origsrc/openh264-1.7.0/build/platform-mingw_nt.mk	2017-06-15 23:20:14.000000000 -0500
+++ src/openh264-1.7.0/build/platform-mingw_nt.mk	2017-12-06 14:34:09.419242600 -0600
@@ -1,6 +1,6 @@
 include $(SRC_PATH)build/x86-common.mk
 SHAREDLIB_DIR = $(PREFIX)/bin
-SHAREDLIBSUFFIX = dll
+SHAREDLIBSUFFIX = .dll
 SHAREDLIBSUFFIXFULLVER=$(SHAREDLIBSUFFIX)
 SHAREDLIBSUFFIXMAJORVER=$(SHAREDLIBSUFFIX)
 EXTRA_LIBRARY=$(LIBPREFIX)$(PROJECT_NAME).dll.a
